# 📚 kimochi心晴 - 项目文档

**版本**: v2.0.0  
**最后更新**: 2025-08-28  
**维护状态**: ✅ 积极维护  

## 🎯 文档概览

本文档集合包含了kimochi心晴项目的完整技术文档，基于实际生产环境部署经验编写。

### 📋 文档索引

| 文档 | 描述 | 适用对象 |
|------|------|----------|
| [快速开始](./QUICK-START.md) | 5分钟快速了解和启动项目 | 所有用户 |
| [部署指南](./DEPLOYMENT.md) | 完整的生产环境部署教程 | 运维工程师 |
| [开发指南](./DEVELOPMENT.md) | 本地开发环境配置和开发流程 | 开发者 |
| [API文档](./API-REFERENCE.md) | 完整的API接口文档 | 前后端开发者 |
| [配置指南](./CONFIGURATION.md) | 环境配置和参数说明 | 系统管理员 |
| [故障排除](./TROUBLESHOOTING.md) | 常见问题和解决方案 | 所有用户 |

## 🏗️ 项目概览

kimochi心晴是一个现代化的心理健康平台，提供：

- 🧠 **专业心理测评** (MBTI、九型人格、心理健康)
- 💬 **安全社交环境** (匿名交流、情感支持)
- 📱 **多端支持** (Web + 微信小程序)
- 🔒 **隐私保护** (数据加密、严格权限)
- 🤖 **AI智能分析** (DeepSeek AI驱动)

## 🛠️ 技术架构

### 核心技术栈
- **前端**: Next.js 15 + TypeScript + Tailwind CSS
- **后端**: Next.js API Routes + Prisma ORM
- **数据库**: SQLite (生产环境优化)
- **部署**: PM2 + Nginx + HTTPS
- **小程序**: 微信原生小程序

### 第三方服务集成
- **邮件服务**: SMTP (QQ邮箱)
- **AI服务**: DeepSeek API
- **天气服务**: 和风天气API
- **地图服务**: 高德地图API (支持数字签名)
- **微信服务**: 小程序授权登录

## 🌐 生产环境

### 服务器配置
- **位置**: 青岛阿里云轻量应用服务器
- **配置**: 2核2G (已优化)
- **系统**: Ubuntu (中国镜像源优化)
- **访问**: https://47.104.8.84

### 部署特点
- ✅ HTTPS安全访问
- ✅ Safari地理位置权限兼容
- ✅ 2核2G低配置优化
- ✅ 中国网络环境优化
- ✅ 100%第三方API服务可用
- ✅ 自动化部署和更新系统

## 🚀 快速命令

```bash
# 本地开发
npm run dev

# 生产部署
./scripts/local-update.sh -m "更新说明" -d

# 服务器管理
ssh -i kimochi-prod.pem root@47.104.8.84
kimochi-status

# API测试
node scripts/test-apis.js
```

## 📞 支持

- **项目地址**: https://github.com/xuhao2004/kimochi
- **管理员**: admin@kimochi.space (密码: kimochi@2025)
- **技术支持**: 查看故障排除文档

---

**⚠️ 重要**: 所有文档都基于实际生产环境验证，确保准确性和可操作性。
